<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>App Store Redirect</title>
  </head>
  <body>
    <script type="text/javascript">
      const urlParams = new URLSearchParams(window.location.search);
      const app = urlParams.get("app");

      if (app === "deriv-go") {
        if (/iP(hone|od|ad)/.test(navigator.userAgent)) {
          window.location.href =
            "https://apps.apple.com/rw/app/deriv-go/id1550561298";
        } else if (/Huawei/.test(navigator.userAgent)) {
          window.location.href = "https://appgallery.huawei.com/app/C103801913";
        } else {
          window.location.href = "market://details?id=com.deriv.app";
        }
      } else if (app === "derivx") {
        if (/iP(hone|od|ad)/.test(navigator.userAgent)) {
          window.location.href =
            "https://apps.apple.com/rw/app/deriv-x/id1563337503";
        } else {
          window.location.href = "market://details?id=com.deriv.dx";
        }
      } else if (app === "dp2p") {
        if (/iP(hone|od|ad)/.test(navigator.userAgent)) {
          window.location.href =
            "https://apps.apple.com/mn/app/deriv-dp2p/id1506901451";
        } else {
          window.location.href = "market://details?id=com.deriv.dp2p";
        }
      } else if (app === "ctrader") {
        if (/iP(hone|od|ad)/.test(navigator.userAgent)) {
          // window.location.href =""; No URL yet
        } else {
          window.location.href = "market://details?id=com.deriv.ct";
        }
      } else if (app === 'partnershub') {
        if (/iP(hone|od|ad)|mac(intosh|intel|ppc|68k|os)/i.test(navigator.userAgent)) {
          window.location.href = "https://apps.apple.com/us/app/deriv-partners-academy/id6478279499"
        } else {
          window.location.href = "https://play.google.com/store/apps/details?id=com.deriv.partneracademy";
        }
      } else if (app === 'mt5') {
        if (/iP(hone|od|ad)|mac(intosh|intel|ppc|68k|os)/i.test(navigator.userAgent)) {
          window.location.href = "https://download.mql5.com/cdn/mobile/mt5/ios?server=DerivUAE-Demo,DerivUAE-Server,DerivUAE-Server-02,DerivUAE-Server-03";
        } 
        else if (/Huawei/.test(navigator.userAgent)) {
          window.location.href = "https://download.mql5.com/cdn/mobile/mt5/android/app-gallery";
        }
        else {
          window.location.href = "https://download.mql5.com/cdn/mobile/mt5/android?server=DerivUAE-Demo,DerivUAE-Server,DerivUAE-Server-02,DerivUAE-Server-03";
        }
      }
    </script>
  </body>
</html>
